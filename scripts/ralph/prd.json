{
  "project": "Echolog",
  "branchName": "ralph/tui-fixes",
  "description": "TUI Bug Fixes and Missing Functionality - Fix test failures and complete remaining TUI features",
  "userStories": [
    {
      "id": "US-001",
      "title": "Fix test query for modal input elements",
      "description": "As a developer, I need tests to correctly query elements inside modal screens so tests pass.",
      "acceptanceCriteria": [
        "Change app.query_one('#session-name-input', Input) to app.screen.query_one('#session-name-input', Input) in test_record_start_flow_submits_name_and_calls_recorder",
        "Change app.query_one('#session-name-input', Input) to app.screen.query_one('#session-name-input', Input) in test_edit_session_label_updates_recorder_display_name",
        "All tests in test_tui_commands.py pass",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Fixed: Tests now query app.screen.query_one() instead of app.query_one() for modal elements"
    },
    {
      "id": "US-002",
      "title": "Complete log panel with configurable entry count",
      "description": "As a user, I want to see recent log entries so I can spot issues immediately.",
      "acceptanceCriteria": [
        "Log panel shows last 5 log entries by default",
        "New entries appear in real-time during recording",
        "Errors displayed in red text",
        "Warnings displayed in yellow text",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Fixed type annotations and added test coverage; log panel shows 5 entries by default, real-time updates via update_session_log(), errors in red (#ff4444), warnings in yellow (#ffaa00)"
    },
    {
      "id": "US-003",
      "title": "Add audio level meter (VU meter)",
      "description": "As a user, I want to see audio levels so I can verify audio is being captured.",
      "acceptanceCriteria": [
        "VU meter shows current audio level during recording",
        "Shows level in dB format",
        "Meter disabled when not recording",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": true,
      "notes": "VUMeterPanel widget in TUI shows audio level using parec; displays in dB format; disabled when not recording"
    },
    {
      "id": "US-004",
      "title": "Add --no-meter flag to disable VU meter",
      "description": "As a user, I want to optionally disable the VU meter so I can reduce CPU usage.",
      "acceptanceCriteria": [
        "Add --no-meter flag to echolog.py CLI",
        "Pass flag through to TUI to hide VU meter panel",
        "TUI works normally with or without meter",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": true,
      "notes": "Added --no-meter flag to CLI; Dashboard and EchologTUI accept no_meter param; VUMeterPanel conditionally hidden; 3 new tests added"
    },
    {
      "id": "US-005",
      "title": "Add low time warning color for time limit",
      "description": "As a user, I want a visual warning when recording time limit is almost reached.",
      "acceptanceCriteria": [
        "Time limit indicator shows warning color when <5 minutes remaining",
        "Warning uses yellow or orange color visible on dark terminals",
        "Normal display when >5 minutes remaining",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": false,
      "notes": "Part of US-012 from original PRD, time limit display exists but warning color missing"
    }
  ]
}
